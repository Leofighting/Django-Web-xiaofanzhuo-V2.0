function NewsList(){}NewsList.prototype.listenSubmitEvent=function(){var n=$(".submit-btn"),s=$("textarea[name='comment']");n.click(function(){var t=s.val(),e=n.attr("data-news-id");xfzajax.post({url:"/news/public_comment/",data:{content:t,news_id:e},success:function(t){if(200===t.code){console.log(t);var e=t.data,n=template("comment-item",{comment:e});$(".comment-list").prepend(n),window.messageBox.showSuccess("评论发表成功~"),s.val("")}else window.messageBox.showError(t.message)}})})},NewsList.prototype.run=function(){this.listenSubmitEvent()},$(function(){(new NewsList).run()});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5ld3NfZGV0YWlsLmpzIl0sIm5hbWVzIjpbIk5ld3NMaXN0IiwicHJvdG90eXBlIiwibGlzdGVuU3VibWl0RXZlbnQiLCJzdWJtaXRCdG4iLCIkIiwidGV4dGFyZWEiLCJjbGljayIsImNvbnRlbnQiLCJ2YWwiLCJuZXdzX2lkIiwiYXR0ciIsInhmemFqYXgiLCJwb3N0IiwidXJsIiwiZGF0YSIsInN1Y2Nlc3MiLCJyZXN1bHQiLCJjb25zb2xlIiwibG9nIiwiY29tbWVudCIsInRwbCIsInRlbXBsYXRlIiwicHJlcGVuZCIsIndpbmRvdyIsIm1lc3NhZ2VCb3giLCJzaG93U3VjY2VzcyIsInNob3dFcnJvciIsInJ1biIsInRoaXMiXSwibWFwcGluZ3MiOiJBQUFBLFNBQVNBLFlBS1RBLFNBQVNDLFVBQVVDLGtCQUFvQixXQUNuQyxJQUFJQyxFQUFZQyxFQUFFLGVBQ2RDLEVBQVdELEVBQUUsNEJBQ2pCRCxFQUFVRyxNQUFNLFdBQ1osSUFBSUMsRUFBVUYsRUFBU0csTUFDbkJDLEVBQVVOLEVBQVVPLEtBQUssZ0JBQzdCQyxRQUFRQyxLQUFLLENBQ1RDLElBQU8sd0JBQ1BDLEtBQVEsQ0FDSlAsUUFBV0EsRUFDWEUsUUFBV0EsR0FFZk0sUUFBVyxTQUFVQyxHQUNqQixHQUF1QixNQUFuQkEsRUFBYSxLQUFVLENBQ3ZCQyxRQUFRQyxJQUFJRixHQUNaLElBQUlHLEVBQVVILEVBQWEsS0FDdkJJLEVBQU1DLFNBQVMsZUFBZ0IsQ0FBQ0YsUUFBV0EsSUFDeEJmLEVBQUUsaUJBQ1JrQixRQUFRRixHQUN6QkcsT0FBT0MsV0FBV0MsWUFBWSxXQUM5QnBCLEVBQVNHLElBQUksU0FHYmUsT0FBT0MsV0FBV0UsVUFBVVYsRUFBZ0IsZUFRaEVoQixTQUFTQyxVQUFVMEIsSUFBTSxXQUNWQyxLQUNOMUIscUJBR1RFLEVBQUUsWUFDaUIsSUFBSUosVUFDVjJCIiwiZmlsZSI6Im5ld3NfZGV0YWlsLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbImZ1bmN0aW9uIE5ld3NMaXN0KCkge1xyXG5cclxuXHJcbn1cclxuXHJcbk5ld3NMaXN0LnByb3RvdHlwZS5saXN0ZW5TdWJtaXRFdmVudCA9IGZ1bmN0aW9uKCl7XHJcbiAgICB2YXIgc3VibWl0QnRuID0gJChcIi5zdWJtaXQtYnRuXCIpO1xyXG4gICAgdmFyIHRleHRhcmVhID0gJChcInRleHRhcmVhW25hbWU9J2NvbW1lbnQnXVwiKTtcclxuICAgIHN1Ym1pdEJ0bi5jbGljayhmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIGNvbnRlbnQgPSB0ZXh0YXJlYS52YWwoKTtcclxuICAgICAgICB2YXIgbmV3c19pZCA9IHN1Ym1pdEJ0bi5hdHRyKFwiZGF0YS1uZXdzLWlkXCIpO1xyXG4gICAgICAgIHhmemFqYXgucG9zdCh7XHJcbiAgICAgICAgICAgIFwidXJsXCI6IFwiL25ld3MvcHVibGljX2NvbW1lbnQvXCIsXHJcbiAgICAgICAgICAgIFwiZGF0YVwiOiB7XHJcbiAgICAgICAgICAgICAgICBcImNvbnRlbnRcIjogY29udGVudCxcclxuICAgICAgICAgICAgICAgIFwibmV3c19pZFwiOiBuZXdzX2lkXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIFwic3VjY2Vzc1wiOiBmdW5jdGlvbiAocmVzdWx0KSB7XHJcbiAgICAgICAgICAgICAgICBpZiAocmVzdWx0W1wiY29kZVwiXSA9PT0gMjAwKXtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXN1bHQpO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBjb21tZW50ID0gcmVzdWx0W1wiZGF0YVwiXTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgdHBsID0gdGVtcGxhdGUoXCJjb21tZW50LWl0ZW1cIiwge1wiY29tbWVudFwiOiBjb21tZW50fSk7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNvbW1lbnRMaXN0R3JvdXAgPSAkKFwiLmNvbW1lbnQtbGlzdFwiKTtcclxuICAgICAgICAgICAgICAgICAgICBjb21tZW50TGlzdEdyb3VwLnByZXBlbmQodHBsKTtcclxuICAgICAgICAgICAgICAgICAgICB3aW5kb3cubWVzc2FnZUJveC5zaG93U3VjY2VzcyhcIuivhOiuuuWPkeihqOaIkOWKn35cIik7XHJcbiAgICAgICAgICAgICAgICAgICAgdGV4dGFyZWEudmFsKFwiXCIpO1xyXG5cclxuICAgICAgICAgICAgICAgIH1lbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICB3aW5kb3cubWVzc2FnZUJveC5zaG93RXJyb3IocmVzdWx0W1wibWVzc2FnZVwiXSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG5cclxuICAgIH0pXHJcbn1cclxuXHJcbk5ld3NMaXN0LnByb3RvdHlwZS5ydW4gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICBzZWxmLmxpc3RlblN1Ym1pdEV2ZW50KCk7XHJcbn07XHJcblxyXG4kKGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBuZXdzTGlzdCA9IG5ldyBOZXdzTGlzdCgpO1xyXG4gICAgbmV3c0xpc3QucnVuKCk7XHJcblxyXG59KTsiXX0=
