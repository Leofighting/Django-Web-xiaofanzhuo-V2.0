function Banner(){}Banner.prototype.listenAddBannerEvent=function(){var a=this;$("#add-banner-btn").click(function(){var n=template("banner-item"),e=$(".banner-list-group");e.prepend(n);var t=e.find(".banner-item:first");a.addImageSelectEvent(t)})},Banner.prototype.addImageSelectEvent=function(n){var e=n.find(".thumbnail"),t=n.find(".image-input");e.click(function(){t.click()}),t.change(function(){var n=this.files[0],e=new FormData;e.append("file",n),xfzajax.post({url:"/cms/upload_file/",data:e,processData:!1,contentType:!1,success:function(n){if(200===n.code)n.data.url}})})},Banner.prototype.run=function(){this.listenAddBannerEvent()},$(function(){(new Banner).run()});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImJhbm5lci5qcyJdLCJuYW1lcyI6WyJCYW5uZXIiLCJwcm90b3R5cGUiLCJsaXN0ZW5BZGRCYW5uZXJFdmVudCIsInNlbGYiLCJ0aGlzIiwiJCIsImNsaWNrIiwidHBsIiwidGVtcGxhdGUiLCJiYW5uZXJMaXN0R3JvdXAiLCJwcmVwZW5kIiwiYmFubmVySXRlbSIsImZpbmQiLCJhZGRJbWFnZVNlbGVjdEV2ZW50IiwiaW1hZ2UiLCJpbWFnZUlucHV0IiwiY2hhbmdlIiwiZmlsZSIsImZpbGVzIiwiZm9ybURhdGEiLCJGb3JtRGF0YSIsImFwcGVuZCIsInhmemFqYXgiLCJwb3N0IiwidXJsIiwiZGF0YSIsInByb2Nlc3NEYXRhIiwiY29udGVudFR5cGUiLCJzdWNjZXNzIiwicmVzdWx0IiwicnVuIl0sIm1hcHBpbmdzIjoiQUFBQSxTQUFTQSxVQUlUQSxPQUFPQyxVQUFVQyxxQkFBdUIsV0FDcEMsSUFBSUMsRUFBT0MsS0FDRUMsRUFBRSxtQkFDUkMsTUFBTSxXQUNULElBQUlDLEVBQU1DLFNBQVMsZUFDZkMsRUFBa0JKLEVBQUUsc0JBQ3hCSSxFQUFnQkMsUUFBUUgsR0FFeEIsSUFBSUksRUFBYUYsRUFBZ0JHLEtBQUssc0JBRXRDVCxFQUFLVSxvQkFBb0JGLE1BS2pDWCxPQUFPQyxVQUFVWSxvQkFBc0IsU0FBU0YsR0FDNUMsSUFBSUcsRUFBUUgsRUFBV0MsS0FBSyxjQUN4QkcsRUFBYUosRUFBV0MsS0FBSyxnQkFFakNFLEVBQU1SLE1BQU0sV0FDUlMsRUFBV1QsVUFHZlMsRUFBV0MsT0FBTyxXQUNkLElBQUlDLEVBQU9iLEtBQUtjLE1BQU0sR0FDbEJDLEVBQVcsSUFBSUMsU0FDbkJELEVBQVNFLE9BQU8sT0FBUUosR0FDeEJLLFFBQVFDLEtBQUssQ0FDVEMsSUFBTyxvQkFDUEMsS0FBUU4sRUFDUk8sYUFBZSxFQUNmQyxhQUFlLEVBQ2ZDLFFBQVcsU0FBVUMsR0FDakIsR0FBc0IsTUFBbkJBLEVBQWEsS0FDRkEsRUFBYSxLQUFPLFVBUWxEN0IsT0FBT0MsVUFBVTZCLElBQU0sV0FDUjFCLEtBQ05GLHdCQUdURyxFQUFFLFlBQ2UsSUFBSUwsUUFDVjhCIiwiZmlsZSI6ImJhbm5lci5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyJmdW5jdGlvbiBCYW5uZXIoKSB7XHJcblxyXG59XHJcblxyXG5CYW5uZXIucHJvdG90eXBlLmxpc3RlbkFkZEJhbm5lckV2ZW50ID0gZnVuY3Rpb24oKXtcclxuICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgIHZhciBhZGRCdG4gPSAkKFwiI2FkZC1iYW5uZXItYnRuXCIpO1xyXG4gICAgYWRkQnRuLmNsaWNrKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgdHBsID0gdGVtcGxhdGUoXCJiYW5uZXItaXRlbVwiKTtcclxuICAgICAgICB2YXIgYmFubmVyTGlzdEdyb3VwID0gJChcIi5iYW5uZXItbGlzdC1ncm91cFwiKTtcclxuICAgICAgICBiYW5uZXJMaXN0R3JvdXAucHJlcGVuZCh0cGwpO1xyXG5cclxuICAgICAgICB2YXIgYmFubmVySXRlbSA9IGJhbm5lckxpc3RHcm91cC5maW5kKFwiLmJhbm5lci1pdGVtOmZpcnN0XCIpO1xyXG5cclxuICAgICAgICBzZWxmLmFkZEltYWdlU2VsZWN0RXZlbnQoYmFubmVySXRlbSk7XHJcblxyXG4gICAgfSlcclxufTtcclxuXHJcbkJhbm5lci5wcm90b3R5cGUuYWRkSW1hZ2VTZWxlY3RFdmVudCA9IGZ1bmN0aW9uKGJhbm5lckl0ZW0pe1xyXG4gICAgdmFyIGltYWdlID0gYmFubmVySXRlbS5maW5kKFwiLnRodW1ibmFpbFwiKTtcclxuICAgIHZhciBpbWFnZUlucHV0ID0gYmFubmVySXRlbS5maW5kKFwiLmltYWdlLWlucHV0XCIpO1xyXG5cclxuICAgIGltYWdlLmNsaWNrKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBpbWFnZUlucHV0LmNsaWNrKCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpbWFnZUlucHV0LmNoYW5nZShmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIGZpbGUgPSB0aGlzLmZpbGVzWzBdO1xyXG4gICAgICAgIHZhciBmb3JtRGF0YSA9IG5ldyBGb3JtRGF0YSgpO1xyXG4gICAgICAgIGZvcm1EYXRhLmFwcGVuZChcImZpbGVcIiwgZmlsZSk7XHJcbiAgICAgICAgeGZ6YWpheC5wb3N0KHtcclxuICAgICAgICAgICAgXCJ1cmxcIjogXCIvY21zL3VwbG9hZF9maWxlL1wiLFxyXG4gICAgICAgICAgICBcImRhdGFcIjogZm9ybURhdGEsXHJcbiAgICAgICAgICAgIFwicHJvY2Vzc0RhdGFcIjogZmFsc2UsXHJcbiAgICAgICAgICAgIFwiY29udGVudFR5cGVcIjogZmFsc2UsXHJcbiAgICAgICAgICAgIFwic3VjY2Vzc1wiOiBmdW5jdGlvbiAocmVzdWx0KSB7XHJcbiAgICAgICAgICAgICAgICBpZihyZXN1bHRbXCJjb2RlXCJdID09PSAyMDApe1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciB1cmwgPSByZXN1bHRbXCJkYXRhXCJdW1widXJsXCJdO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuXHJcbiAgICB9KVxyXG59O1xyXG5cclxuQmFubmVyLnByb3RvdHlwZS5ydW4gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICBzZWxmLmxpc3RlbkFkZEJhbm5lckV2ZW50KCk7XHJcbn07XHJcblxyXG4kKGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBiYW5uZXIgPSBuZXcgQmFubmVyKCk7XHJcbiAgICBiYW5uZXIucnVuKCk7XHJcbn0pOyJdfQ==
