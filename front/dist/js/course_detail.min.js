function CourseDetail(){}CourseDetail.prototype.initPlayer=function(){var e=$("#video-info"),t=e.attr("data-video-url"),o=e.attr("data-cover-url"),a=e.attr("data-course-id"),i=cyberplayer("playercontainer").setup({width:"100%",height:"100%",file:t,image:o,autostart:!1,stretching:"uniform",repeat:!1,volume:100,controls:!0,tokenEncrypt:!0,ak:"42455a8c985649aeaa4ca86b50482d78"});i.on("beforePlay",function(o){/m3u8/.test(o.file)&&xfzajax.get({url:"/course/course_token/",data:{video:t,course_id:a},success:function(e){if(200===e.code){var t=e.data.token;i.setToken(o.file,t)}else window.messageBox.showInfo(e.message),i.stop()},fail:function(e){console.log(e)}})})},CourseDetail.prototype.run=function(){this.initPlayer()},$(function(){(new CourseDetail).run()});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvdXJzZV9kZXRhaWwuanMiXSwibmFtZXMiOlsiQ291cnNlRGV0YWlsIiwicHJvdG90eXBlIiwiaW5pdFBsYXllciIsInZpZGVvSW5mb1NwYW4iLCIkIiwidmlkZW9fdXJsIiwiYXR0ciIsImNvdmVyX3VybCIsImNvdXJzZV9pZCIsInBsYXllciIsImN5YmVycGxheWVyIiwic2V0dXAiLCJ3aWR0aCIsImhlaWdodCIsImZpbGUiLCJpbWFnZSIsImF1dG9zdGFydCIsInN0cmV0Y2hpbmciLCJyZXBlYXQiLCJ2b2x1bWUiLCJjb250cm9scyIsInRva2VuRW5jcnlwdCIsImFrIiwib24iLCJlIiwidGVzdCIsInhmemFqYXgiLCJnZXQiLCJ1cmwiLCJkYXRhIiwidmlkZW8iLCJzdWNjZXNzIiwicmVzdWx0IiwidG9rZW4iLCJzZXRUb2tlbiIsIndpbmRvdyIsIm1lc3NhZ2VCb3giLCJzaG93SW5mbyIsInN0b3AiLCJmYWlsIiwiZXJyb3IiLCJjb25zb2xlIiwibG9nIiwicnVuIiwidGhpcyJdLCJtYXBwaW5ncyI6IkFBQUEsU0FBU0EsZ0JBSVRBLGFBQWFDLFVBQVVDLFdBQWEsV0FDaEMsSUFBSUMsRUFBZ0JDLEVBQUUsZUFDbEJDLEVBQVlGLEVBQWNHLEtBQUssa0JBQy9CQyxFQUFZSixFQUFjRyxLQUFLLGtCQUMvQkUsRUFBWUwsRUFBY0csS0FBSyxrQkFFL0JHLEVBQVNDLFlBQVksbUJBQW1CQyxNQUFNLENBQzlDQyxNQUFPLE9BQ1BDLE9BQVEsT0FDUkMsS0FBTVQsRUFDTlUsTUFBT1IsRUFDUFMsV0FBVyxFQUNYQyxXQUFZLFVBQ1pDLFFBQVEsRUFDUkMsT0FBUSxJQUNSQyxVQUFVLEVBQ1ZDLGNBQWMsRUFFZEMsR0FBSSxxQ0FHUmIsRUFBT2MsR0FBRyxhQUFjLFNBQVVDLEdBQ3pCLE9BQU9DLEtBQUtELEVBQUVWLE9BR25CWSxRQUFRQyxJQUFJLENBQ1JDLElBQU8sd0JBQ1BDLEtBQVEsQ0FDSkMsTUFBU3pCLEVBQ1RHLFVBQWFBLEdBRWpCdUIsUUFBVyxTQUFVQyxHQUNqQixHQUF1QixNQUFuQkEsRUFBYSxLQUFXLENBQ3hCLElBQUlDLEVBQVFELEVBQWEsS0FBUyxNQUNsQ3ZCLEVBQU95QixTQUFTVixFQUFFVixLQUFNbUIsUUFFeEJFLE9BQU9DLFdBQVdDLFNBQVNMLEVBQWdCLFNBQzNDdkIsRUFBTzZCLFFBR2ZDLEtBQVEsU0FBVUMsR0FDZEMsUUFBUUMsSUFBSUYsU0FPNUJ4QyxhQUFhQyxVQUFVMEMsSUFBTSxXQUN6QkMsS0FBSzFDLGNBR1RFLEVBQUUsWUFDcUIsSUFBSUosY0FDVjJDIiwiZmlsZSI6ImNvdXJzZV9kZXRhaWwubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gQ291cnNlRGV0YWlsKCkge1xyXG5cclxufVxyXG5cclxuQ291cnNlRGV0YWlsLnByb3RvdHlwZS5pbml0UGxheWVyID0gZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIHZpZGVvSW5mb1NwYW4gPSAkKFwiI3ZpZGVvLWluZm9cIik7XHJcbiAgICB2YXIgdmlkZW9fdXJsID0gdmlkZW9JbmZvU3Bhbi5hdHRyKFwiZGF0YS12aWRlby11cmxcIik7XHJcbiAgICB2YXIgY292ZXJfdXJsID0gdmlkZW9JbmZvU3Bhbi5hdHRyKFwiZGF0YS1jb3Zlci11cmxcIik7XHJcbiAgICB2YXIgY291cnNlX2lkID0gdmlkZW9JbmZvU3Bhbi5hdHRyKFwiZGF0YS1jb3Vyc2UtaWRcIik7XHJcblxyXG4gICAgdmFyIHBsYXllciA9IGN5YmVycGxheWVyKFwicGxheWVyY29udGFpbmVyXCIpLnNldHVwKHtcclxuICAgICAgICB3aWR0aDogJzEwMCUnLFxyXG4gICAgICAgIGhlaWdodDogJzEwMCUnLFxyXG4gICAgICAgIGZpbGU6IHZpZGVvX3VybCxcclxuICAgICAgICBpbWFnZTogY292ZXJfdXJsLFxyXG4gICAgICAgIGF1dG9zdGFydDogZmFsc2UsXHJcbiAgICAgICAgc3RyZXRjaGluZzogXCJ1bmlmb3JtXCIsXHJcbiAgICAgICAgcmVwZWF0OiBmYWxzZSxcclxuICAgICAgICB2b2x1bWU6IDEwMCxcclxuICAgICAgICBjb250cm9sczogdHJ1ZSxcclxuICAgICAgICB0b2tlbkVuY3J5cHQ6IHRydWUsXHJcbiAgICAgICAgLy8gQWNjZXNzS2V5XHJcbiAgICAgICAgYWs6ICc0MjQ1NWE4Yzk4NTY0OWFlYWE0Y2E4NmI1MDQ4MmQ3OCdcclxuICAgIH0pO1xyXG5cclxuICAgIHBsYXllci5vbignYmVmb3JlUGxheScsIGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgaWYgKCEvbTN1OC8udGVzdChlLmZpbGUpKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgeGZ6YWpheC5nZXQoe1xyXG4gICAgICAgICAgICAndXJsJzogJy9jb3Vyc2UvY291cnNlX3Rva2VuLycsXHJcbiAgICAgICAgICAgICdkYXRhJzoge1xyXG4gICAgICAgICAgICAgICAgJ3ZpZGVvJzogdmlkZW9fdXJsLFxyXG4gICAgICAgICAgICAgICAgJ2NvdXJzZV9pZCc6IGNvdXJzZV9pZFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAnc3VjY2Vzcyc6IGZ1bmN0aW9uIChyZXN1bHQpIHtcclxuICAgICAgICAgICAgICAgIGlmIChyZXN1bHRbJ2NvZGUnXSA9PT0gMjAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRva2VuID0gcmVzdWx0WydkYXRhJ11bJ3Rva2VuJ107XHJcbiAgICAgICAgICAgICAgICAgICAgcGxheWVyLnNldFRva2VuKGUuZmlsZSwgdG9rZW4pO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICB3aW5kb3cubWVzc2FnZUJveC5zaG93SW5mbyhyZXN1bHRbJ21lc3NhZ2UnXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgcGxheWVyLnN0b3AoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgJ2ZhaWwnOiBmdW5jdGlvbiAoZXJyb3IpIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfSk7XHJcblxyXG59O1xyXG5cclxuQ291cnNlRGV0YWlsLnByb3RvdHlwZS5ydW4gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICB0aGlzLmluaXRQbGF5ZXIoKTtcclxufTtcclxuXHJcbiQoZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIGNvdXJzZURldGFpbCA9IG5ldyBDb3Vyc2VEZXRhaWwoKTtcclxuICAgIGNvdXJzZURldGFpbC5ydW4oKTtcclxufSk7Il19
